<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>3.2计算属性</title>
</head>
<body>
  <div id="app">
   {{reversedText}}
    <div>{{prices}}</div>
  </div>
  <div id="app2">
    {{text1}}
  </div>
</body>
<script src="../vue.js"></script>
<script>
  Vue.config.devtools=false;
	Vue.config.productionTip=false;
  //在遇到表达式过长或逻辑更为复杂的计算，我们应该使用计算属性计算原数据
  //计算属性里面可以完成各种复杂的逻辑，包括运算、函数调用等，只要最终返回一个结果就可以
 //计算属性不仅可以依赖当前vue实例的数据，还可以依赖其他实例的数据

 var app = new Vue({
    el: '#app',
    data: {
      text: '123,456',
      package1: [{
        name: 'iPhone 7',
        price: 7199,
        count: 2
      },{
        name: 'iPad',
        price: 2988,
        count: 1
      },],
      package2: [{
        name: 'apple',
        price: 3,
        count: 5
      },{
        name: 'banana',
        price: 2,
        count: 10
      },]
    },
    computed: {
      reversedText() {
        return this.text.split(',').reverse().join(',');
      },
      prices() {
        var prices = 0;
        for (var i= 0; i< this.package1.length; i++){
          prices += this.package1[i].price * this.package1[i].count;
        }
        for (var i= 0; i< this.package2.length; i++){
          prices += this.package2[i].price * this.package2[i].count;
        }
        return prices
      }
    }
  })
  var app2 = new Vue({
    el: '#app2',
    computed: {
      text1() {
        return app.text.split(',')
      }
    }
 }) 
</script>
</html>